import{c as A,e as b,aY as _,P as h,t as N,d as T,ac as L,o as g,T as D,a as t,at as k,j as F,aU as O,az as U,w as j,p as q,q as p,x as K,D as $}from"./index-DDCgj_Ao.js";import{_ as z}from"./index-G1VnjAgF.js";const[M,l,Y]=A("search"),G=b({},_,{label:String,shape:h("square"),leftIcon:h("search"),clearable:N,actionText:String,background:String,showAction:Boolean});var H=T({name:M,props:G,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(a,{emit:n,slots:o,attrs:r}){const s=L(),c=g(),i=()=>{o.action||(n("update:modelValue",""),n("cancel"))},u=e=>{e.keyCode===13&&(U(e),n("search",a.modelValue))},d=()=>a.id||`${s}-input`,v=()=>{if(o.label||a.label)return t("label",{class:l("label"),for:d()},[o.label?o.label():a.label])},I=()=>{if(a.showAction){const e=a.actionText||Y("cancel");return t("div",{class:l("action"),role:"button",tabindex:0,onClick:i},[o.action?o.action():e])}},C=()=>{var e;return(e=c.value)==null?void 0:e.blur()},m=()=>{var e;return(e=c.value)==null?void 0:e.focus()},x=e=>n("blur",e),w=e=>n("focus",e),V=e=>n("clear",e),S=e=>n("clickInput",e),B=e=>n("clickLeftIcon",e),E=e=>n("clickRightIcon",e),P=Object.keys(_),R=()=>{const e=b({},r,k(a,P),{id:d()}),f=y=>n("update:modelValue",y);return t(O,F({ref:c,type:"search",class:l("field",{"with-message":e.errorMessage}),border:!1,onBlur:x,onFocus:w,onClear:V,onKeypress:u,onClickInput:S,onClickLeftIcon:B,onClickRightIcon:E,"onUpdate:modelValue":f},e),k(o,["left-icon","right-icon"]))};return D({focus:m,blur:C}),()=>{var e;return t("div",{class:l({"show-action":a.showAction}),style:{background:a.background}},[(e=o.left)==null?void 0:e.call(o),t("div",{class:l("content",a.shape)},[v(),R()]),I()])}}});const J=j(H),X={__name:"index",setup(a){const n=g(""),o=s=>console.log(s),r=()=>console.log(n.value);return(s,c)=>{const i=J;return K(),q(z,{forTitle:"搜尋",leftArrow:!0},{default:p(()=>[t(i,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=u=>n.value=u),"show-action":"",placeholder:"請輸入歌曲或歌手名",onSearch:o},{action:p(()=>[$("div",{onClick:r},"搜索")]),_:1},8,["modelValue"])]),_:1})}}};export{X as default};
