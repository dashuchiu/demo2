import{o as L,Y,c as de,d as ie,aA as Qe,a as f,n as ce,ag as oe,aB as Le,b as Ot,w as xe,V as Ae,ar as xt,h as me,Z as St,a6 as Te,a4 as le,av as ke,aC as q,L as Ct,a1 as et,aD as Pt,t as M,aE as je,m as te,T as N,a5 as tt,a2 as kt,a3 as Rt,a0 as Ve,j as Se,ap as ae,aF as Me,aG as _t,I as K,ae as at,P as Ee,e as ue,aH as Et,aI as It,ah as Dt,R as ot,aJ as Lt,aK as At,F as nt,aL as Tt,aw as jt,aM as rt,aN as Vt,ax as it,aa as Mt,ak as Fe,al as $e,aO as zt,x as st,C as Bt,A as $,q as J,z as lt,aP as Ut,aQ as Nt,aR as Ft,E as ct,aS as $t,p as Yt}from"./index-BXVa5rxE.js";import{I as ze,_ as Xt}from"./index-CMj-jexl.js";import{a as Wt,S as Ht}from"./index-D9qYgkH3.js";const qt=(e,t)=>{const o=L(e());return Y(e,a=>{a!==o.value&&(o.value=a)}),Y(o,a=>{a!==e()&&t(a)}),o},[Zt,Re]=de("switch"),Gt={size:ce,loading:Boolean,disabled:Boolean,modelValue:oe,activeColor:String,inactiveColor:String,activeValue:{type:oe,default:!0},inactiveValue:{type:oe,default:!1}};var Jt=ie({name:Zt,props:Gt,emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const a=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){const c=a()?e.inactiveValue:e.activeValue;t("update:modelValue",c),t("change",c)}},r=()=>{if(e.loading){const c=a()?e.activeColor:e.inactiveColor;return f(Le,{class:Re("loading"),color:c},null)}if(o.node)return o.node()};return Qe(()=>e.modelValue),()=>{var c;const{size:s,loading:l,disabled:v,activeColor:i,inactiveColor:p}=e,w=a(),g={fontSize:Ot(s),backgroundColor:w?i:p};return f("div",{role:"switch",class:Re({on:w,loading:l,disabled:v}),style:g,tabindex:v?void 0:0,"aria-checked":w,onClick:n},[f("div",{class:Re("node")},[r()]),(c=o.background)==null?void 0:c.call(o)])}}});const Kt=xe(Jt),Ye=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Qt=e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}),_e=de("image-preview")[1],Xe=2.6,ea={src:String,show:Boolean,active:Number,minZoom:le(ce),maxZoom:le(ce),rootWidth:le(Number),rootHeight:le(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var ta=ie({props:ea,emits:["scale","close","longPress"],setup(e,{emit:t,slots:o}){const a=Ae({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),n=xt(),r=L(),c=L(),s=L(!1),l=L(!1);let v=0;const i=me(()=>{const{scale:d,moveX:b,moveY:C,moving:V,zooming:z,initializing:F}=a,pe={transitionDuration:z||V||F?"0s":".3s"};return(d!==1||l.value)&&(pe.transform=`matrix(${d}, 0, 0, ${d}, ${b}, ${C})`),pe}),p=me(()=>{if(a.imageRatio){const{rootWidth:d,rootHeight:b}=e,C=s.value?b/a.imageRatio:d;return Math.max(0,(a.scale*C-d)/2)}return 0}),w=me(()=>{if(a.imageRatio){const{rootWidth:d,rootHeight:b}=e,C=s.value?b:d*a.imageRatio;return Math.max(0,(a.scale*C-b)/2)}return 0}),g=(d,b)=>{var C;if(d=q(d,+e.minZoom,+e.maxZoom+1),d!==a.scale){const V=d/a.scale;if(a.scale=d,b){const z=et((C=r.value)==null?void 0:C.$el),F={x:z.width*.5,y:z.height*.5},pe=a.moveX-(b.x-z.left-F.x)*(V-1),bt=a.moveY-(b.y-z.top-F.y)*(V-1);a.moveX=q(pe,-p.value,p.value),a.moveY=q(bt,-w.value,w.value)}else a.moveX=0,a.moveY=l.value?v:0;t("scale",{scale:d,index:e.active})}},k=()=>{g(1)},_=()=>{const d=a.scale>1?1:2;g(d,d===2||l.value?{x:n.startX.value,y:n.startY.value}:void 0)};let P,E,h,m,R,O,S,T,u=!1;const y=d=>{const{touches:b}=d;if(P=b.length,P===2&&e.disableZoom)return;const{offsetX:C}=n;n.start(d),E=a.moveX,h=a.moveY,T=Date.now(),u=!1,a.moving=P===1&&(a.scale!==1||l.value),a.zooming=P===2&&!C.value,a.zooming&&(m=a.scale,R=Ye(b))},I=d=>{const{touches:b}=d;if(n.move(d),a.moving){const{deltaX:C,deltaY:V}=n,z=C.value+E,F=V.value+h;if((e.vertical?n.isVertical()&&Math.abs(F)>w.value:n.isHorizontal()&&Math.abs(z)>p.value)&&!u){a.moving=!1;return}u=!0,ke(d,!0),a.moveX=q(z,-p.value,p.value),a.moveY=q(F,-w.value,w.value)}if(a.zooming&&(ke(d,!0),b.length===2)){const C=Ye(b),V=m*C/R;O=Qt(b),g(V,O)}},x=d=>{var b;const C=(b=c.value)==null?void 0:b.$el,V=C.firstElementChild,z=d.target===C,F=V==null?void 0:V.contains(d.target);!e.closeOnClickImage&&F||!e.closeOnClickOverlay&&z||t("close")},A=d=>{if(P>1)return;const b=Date.now()-T,C=250;n.isTap.value&&(b<C?e.doubleScale?S?(clearTimeout(S),S=null,_()):S=setTimeout(()=>{x(d),S=null},C):x(d):b>Pt&&t("longPress"))},j=d=>{let b=!1;if((a.moving||a.zooming)&&(b=!0,a.moving&&E===a.moveX&&h===a.moveY&&(b=!1),!d.touches.length)){a.zooming&&(a.moveX=q(a.moveX,-p.value,p.value),a.moveY=q(a.moveY,-w.value,w.value),a.zooming=!1),a.moving=!1,E=0,h=0,m=1,a.scale<1&&k();const C=+e.maxZoom;a.scale>C&&g(C,O)}ke(d,b),A(d),n.reset()},ve=()=>{const{rootWidth:d,rootHeight:b}=e,C=b/d,{imageRatio:V}=a;s.value=a.imageRatio>C&&V<Xe,l.value=a.imageRatio>C&&V>=Xe,l.value&&(v=(V*d-b)/2,a.moveY=v,a.initializing=!0,Ct(()=>{a.initializing=!1})),k()},se=d=>{const{naturalWidth:b,naturalHeight:C}=d.target;a.imageRatio=C/b,ve()};return Y(()=>e.active,k),Y(()=>e.show,d=>{d||k()}),Y(()=>[e.rootWidth,e.rootHeight],ve),St("touchmove",I,{target:me(()=>{var d;return(d=c.value)==null?void 0:d.$el})}),Te({resetScale:k}),()=>{const d={loading:()=>f(Le,{type:"spinner"},null)};return f(Wt,{ref:c,class:_e("swipe-item"),onTouchstartPassive:y,onTouchend:j,onTouchcancel:j},{default:()=>[o.image?f("div",{class:_e("image-wrap")},[o.image({src:e.src,onLoad:se,style:i.value})]):f(ze,{ref:r,src:e.src,fit:"contain",class:_e("image",{vertical:s.value}),style:i.value,onLoad:se},d)]})}}});const[aa,ee]=de("image-preview"),oa=["show","teleport","transition","overlayStyle","closeOnPopstate"],na={show:Boolean,loop:M,images:je(),minZoom:te(1/3),maxZoom:te(3),overlay:M,vertical:Boolean,closeable:Boolean,showIndex:M,className:oe,closeIcon:N("clear"),transition:String,beforeClose:Function,doubleScale:M,overlayClass:oe,overlayStyle:Object,swipeDuration:te(300),startPosition:te(0),showIndicators:Boolean,closeOnPopstate:M,closeOnClickImage:M,closeOnClickOverlay:M,closeIconPosition:N("top-right"),teleport:[String,Object]};var ut=ie({name:aa,props:na,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:o}){const a=L(),n=L(),r=Ae({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),c=()=>{if(a.value){const m=et(a.value.$el);r.rootWidth=m.width,r.rootHeight=m.height,a.value.resize()}},s=m=>t("scale",m),l=m=>t("update:show",m),v=()=>{at(e.beforeClose,{args:[r.active],done:()=>l(!1)})},i=m=>{m!==r.active&&(r.active=m,t("change",m))},p=()=>{if(e.showIndex)return f("div",{class:ee("index")},[o.index?o.index({index:r.active}):`${r.active+1} / ${e.images.length}`])},w=()=>{if(o.cover)return f("div",{class:ee("cover")},[o.cover()])},g=()=>{r.disableZoom=!0},k=()=>{r.disableZoom=!1},_=()=>f(Ht,{ref:a,lazyRender:!0,loop:e.loop,class:ee("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:i,onDragEnd:k,onDragStart:g},{default:()=>[e.images.map((m,R)=>f(ta,{ref:O=>{R===r.active&&(n.value=O)},src:m,show:e.show,active:r.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:r.rootWidth,rootHeight:r.rootHeight,disableZoom:r.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:s,onClose:v,onLongPress:()=>t("longPress",{index:R})},{image:o.image}))]}),P=()=>{if(e.closeable)return f(K,{role:"button",name:e.closeIcon,class:[ee("close-icon",e.closeIconPosition),_t],onClick:v},null)},E=()=>t("closed"),h=(m,R)=>{var O;return(O=a.value)==null?void 0:O.swipeTo(m,R)};return Te({resetScale:()=>{var m;(m=n.value)==null||m.resetScale()},swipeTo:h}),tt(c),Y([kt,Rt],c),Y(()=>e.startPosition,m=>i(+m)),Y(()=>e.show,m=>{const{images:R,startPosition:O}=e;m?(i(+O),Ve(()=>{c(),h(+O,{immediate:!0})})):t("close",{index:r.active,url:R[r.active]})}),()=>f(Me,Se({class:[ee(),e.className],overlayClass:[ee("overlay"),e.overlayClass],onClosed:E,"onUpdate:show":l},ae(e,oa)),{default:()=>[P(),_(),p(),w()]})}});let he;const ra={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function ia(){({instance:he}=Et({setup(){const{state:e,toggle:t}=It(),o=()=>{e.images=[]};return()=>f(ut,Se(e,{onClosed:o,"onUpdate:show":t}),null)}}))}const sa=(e,t=0)=>{if(Ee)return he||ia(),e=Array.isArray(e)?{images:e,startPosition:t}:e,he.open(ue({},ra,e)),he};xe(ut);function U(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Be(e){var t=U(e).Element;return e instanceof t||e instanceof Element}function B(e){var t=U(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ft(e){if(typeof ShadowRoot>"u")return!1;var t=U(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var re=Math.round;function Ie(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function la(){return!/^((?!chrome|android).)*safari/i.test(Ie())}function ye(e,t,o){t===void 0&&(t=!1),o===void 0&&(o=!1);var a=e.getBoundingClientRect(),n=1,r=1;t&&B(e)&&(n=e.offsetWidth>0&&re(a.width)/e.offsetWidth||1,r=e.offsetHeight>0&&re(a.height)/e.offsetHeight||1);var c=Be(e)?U(e):window,s=c.visualViewport,l=!la()&&o,v=(a.left+(l&&s?s.offsetLeft:0))/n,i=(a.top+(l&&s?s.offsetTop:0))/r,p=a.width/n,w=a.height/r;return{width:p,height:w,top:i,right:v+p,bottom:i+w,left:v,x:v,y:i}}function dt(e){var t=U(e),o=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:o,scrollTop:a}}function ca(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ua(e){return e===U(e)||!B(e)?dt(e):ca(e)}function X(e){return e?(e.nodeName||"").toLowerCase():null}function Ce(e){return((Be(e)?e.ownerDocument:e.document)||window.document).documentElement}function fa(e){return ye(Ce(e)).left+dt(e).scrollLeft}function W(e){return U(e).getComputedStyle(e)}function Ue(e){var t=W(e),o=t.overflow,a=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(o+n+a)}function da(e){var t=e.getBoundingClientRect(),o=re(t.width)/e.offsetWidth||1,a=re(t.height)/e.offsetHeight||1;return o!==1||a!==1}function va(e,t,o){o===void 0&&(o=!1);var a=B(t),n=B(t)&&da(t),r=Ce(t),c=ye(e,n,o),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(a||!a&&!o)&&((X(t)!=="body"||Ue(r))&&(s=ua(t)),B(t)?(l=ye(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=fa(r))),{x:c.left+s.scrollLeft-l.x,y:c.top+s.scrollTop-l.y,width:c.width,height:c.height}}function pa(e){var t=ye(e),o=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-o)<=1&&(o=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:o,height:a}}function Ne(e){return X(e)==="html"?e:e.assignedSlot||e.parentNode||(ft(e)?e.host:null)||Ce(e)}function vt(e){return["html","body","#document"].indexOf(X(e))>=0?e.ownerDocument.body:B(e)&&Ue(e)?e:vt(Ne(e))}function we(e,t){var o;t===void 0&&(t=[]);var a=vt(e),n=a===((o=e.ownerDocument)==null?void 0:o.body),r=U(a),c=n?[r].concat(r.visualViewport||[],Ue(a)?a:[]):a,s=t.concat(c);return n?s:s.concat(we(Ne(c)))}function ma(e){return["table","td","th"].indexOf(X(e))>=0}function We(e){return!B(e)||W(e).position==="fixed"?null:e.offsetParent}function ga(e){var t=/firefox/i.test(Ie()),o=/Trident/i.test(Ie());if(o&&B(e)){var a=W(e);if(a.position==="fixed")return null}var n=Ne(e);for(ft(n)&&(n=n.host);B(n)&&["html","body"].indexOf(X(n))<0;){var r=W(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function pt(e){for(var t=U(e),o=We(e);o&&ma(o)&&W(o).position==="static";)o=We(o);return o&&(X(o)==="html"||X(o)==="body"&&W(o).position==="static")?t:o||ga(e)||t}var ne="top",be="bottom",fe="right",Q="left",mt="auto",ha=[ne,be,fe,Q],gt="start",Oe="end",wa=[].concat(ha,[mt]).reduce(function(e,t){return e.concat([t,t+"-"+gt,t+"-"+Oe])},[]),ya="beforeRead",ba="read",Oa="afterRead",xa="beforeMain",Sa="main",Ca="afterMain",Pa="beforeWrite",ka="write",Ra="afterWrite",De=[ya,ba,Oa,xa,Sa,Ca,Pa,ka,Ra];function _a(e){var t=new Map,o=new Set,a=[];e.forEach(function(r){t.set(r.name,r)});function n(r){o.add(r.name);var c=[].concat(r.requires||[],r.requiresIfExists||[]);c.forEach(function(s){if(!o.has(s)){var l=t.get(s);l&&n(l)}}),a.push(r)}return e.forEach(function(r){o.has(r.name)||n(r)}),a}function Ea(e){var t=_a(e);return De.reduce(function(o,a){return o.concat(t.filter(function(n){return n.phase===a}))},[])}function Ia(e){var t;return function(){return t||(t=new Promise(function(o){Promise.resolve().then(function(){t=void 0,o(e())})})),t}}function H(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];return[].concat(o).reduce(function(n,r){return n.replace(/%s/,r)},e)}var Z='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Da='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',He=["name","enabled","phase","fn","effect","requires","options"];function La(e){e.forEach(function(t){[].concat(Object.keys(t),He).filter(function(o,a,n){return n.indexOf(o)===a}).forEach(function(o){switch(o){case"name":typeof t.name!="string"&&console.error(H(Z,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":typeof t.enabled!="boolean"&&console.error(H(Z,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":De.indexOf(t.phase)<0&&console.error(H(Z,t.name,'"phase"',"either "+De.join(", "),'"'+String(t.phase)+'"'));break;case"fn":typeof t.fn!="function"&&console.error(H(Z,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":t.effect!=null&&typeof t.effect!="function"&&console.error(H(Z,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":t.requires!=null&&!Array.isArray(t.requires)&&console.error(H(Z,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(H(Z,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+He.map(function(a){return'"'+a+'"'}).join(", ")+'; but "'+o+'" was provided.')}t.requires&&t.requires.forEach(function(a){e.find(function(n){return n.name===a})==null&&console.error(H(Da,String(t.name),a,a))})})})}function Aa(e,t){var o=new Set;return e.filter(function(a){var n=t(a);if(!o.has(n))return o.add(n),!0})}function Pe(e){return e.split("-")[0]}function Ta(e){var t=e.reduce(function(o,a){var n=o[a.name];return o[a.name]=n?Object.assign({},n,a,{options:Object.assign({},n.options,a.options),data:Object.assign({},n.data,a.data)}):a,o},{});return Object.keys(t).map(function(o){return t[o]})}function ht(e){return e.split("-")[1]}function ja(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Va(e){var t=e.reference,o=e.element,a=e.placement,n=a?Pe(a):null,r=a?ht(a):null,c=t.x+t.width/2-o.width/2,s=t.y+t.height/2-o.height/2,l;switch(n){case ne:l={x:c,y:t.y-o.height};break;case be:l={x:c,y:t.y+t.height};break;case fe:l={x:t.x+t.width,y:s};break;case Q:l={x:t.x-o.width,y:s};break;default:l={x:t.x,y:t.y}}var v=n?ja(n):null;if(v!=null){var i=v==="y"?"height":"width";switch(r){case gt:l[v]=l[v]-(t[i]/2-o[i]/2);break;case Oe:l[v]=l[v]+(t[i]/2-o[i]/2);break}}return l}var qe="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Ma="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Ze={placement:"bottom",modifiers:[],strategy:"absolute"};function Ge(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function za(e){e===void 0&&(e={});var t=e,o=t.defaultModifiers,a=o===void 0?[]:o,n=t.defaultOptions,r=n===void 0?Ze:n;return function(s,l,v){v===void 0&&(v=r);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ze,r),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},p=[],w=!1,g={state:i,setOptions:function(E){var h=typeof E=="function"?E(i.options):E;_(),i.options=Object.assign({},r,i.options,h),i.scrollParents={reference:Be(s)?we(s):s.contextElement?we(s.contextElement):[],popper:we(l)};var m=Ea(Ta([].concat(a,i.options.modifiers)));i.orderedModifiers=m.filter(function(x){return x.enabled});{var R=Aa([].concat(m,i.options.modifiers),function(x){var A=x.name;return A});if(La(R),Pe(i.options.placement)===mt){var O=i.orderedModifiers.find(function(x){var A=x.name;return A==="flip"});O||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var S=W(l),T=S.marginTop,u=S.marginRight,y=S.marginBottom,I=S.marginLeft;[T,u,y,I].some(function(x){return parseFloat(x)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return k(),g.update()},forceUpdate:function(){if(!w){var E=i.elements,h=E.reference,m=E.popper;if(!Ge(h,m)){console.error(qe);return}i.rects={reference:va(h,pt(m),i.options.strategy==="fixed"),popper:pa(m)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(x){return i.modifiersData[x.name]=Object.assign({},x.data)});for(var R=0,O=0;O<i.orderedModifiers.length;O++){if(R+=1,R>100){console.error(Ma);break}if(i.reset===!0){i.reset=!1,O=-1;continue}var S=i.orderedModifiers[O],T=S.fn,u=S.options,y=u===void 0?{}:u,I=S.name;typeof T=="function"&&(i=T({state:i,options:y,name:I,instance:g})||i)}}},update:Ia(function(){return new Promise(function(P){g.forceUpdate(),P(i)})}),destroy:function(){_(),w=!0}};if(!Ge(s,l))return console.error(qe),g;g.setOptions(v).then(function(P){!w&&v.onFirstUpdate&&v.onFirstUpdate(P)});function k(){i.orderedModifiers.forEach(function(P){var E=P.name,h=P.options,m=h===void 0?{}:h,R=P.effect;if(typeof R=="function"){var O=R({state:i,name:E,instance:g,options:m}),S=function(){};p.push(O||S)}})}function _(){p.forEach(function(P){return P()}),p=[]}return g}}var ge={passive:!0};function Ba(e){var t=e.state,o=e.instance,a=e.options,n=a.scroll,r=n===void 0?!0:n,c=a.resize,s=c===void 0?!0:c,l=U(t.elements.popper),v=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&v.forEach(function(i){i.addEventListener("scroll",o.update,ge)}),s&&l.addEventListener("resize",o.update,ge),function(){r&&v.forEach(function(i){i.removeEventListener("scroll",o.update,ge)}),s&&l.removeEventListener("resize",o.update,ge)}}var Ua={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ba,data:{}};function Na(e){var t=e.state,o=e.name;t.modifiersData[o]=Va({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Fa={name:"popperOffsets",enabled:!0,phase:"read",fn:Na,data:{}},$a={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ya(e){var t=e.x,o=e.y,a=window,n=a.devicePixelRatio||1;return{x:re(t*n)/n||0,y:re(o*n)/n||0}}function Je(e){var t,o=e.popper,a=e.popperRect,n=e.placement,r=e.variation,c=e.offsets,s=e.position,l=e.gpuAcceleration,v=e.adaptive,i=e.roundOffsets,p=e.isFixed,w=c.x,g=w===void 0?0:w,k=c.y,_=k===void 0?0:k,P=typeof i=="function"?i({x:g,y:_}):{x:g,y:_};g=P.x,_=P.y;var E=c.hasOwnProperty("x"),h=c.hasOwnProperty("y"),m=Q,R=ne,O=window;if(v){var S=pt(o),T="clientHeight",u="clientWidth";if(S===U(o)&&(S=Ce(o),W(S).position!=="static"&&s==="absolute"&&(T="scrollHeight",u="scrollWidth")),S=S,n===ne||(n===Q||n===fe)&&r===Oe){R=be;var y=p&&S===O&&O.visualViewport?O.visualViewport.height:S[T];_-=y-a.height,_*=l?1:-1}if(n===Q||(n===ne||n===be)&&r===Oe){m=fe;var I=p&&S===O&&O.visualViewport?O.visualViewport.width:S[u];g-=I-a.width,g*=l?1:-1}}var x=Object.assign({position:s},v&&$a),A=i===!0?Ya({x:g,y:_}):{x:g,y:_};if(g=A.x,_=A.y,l){var j;return Object.assign({},x,(j={},j[R]=h?"0":"",j[m]=E?"0":"",j.transform=(O.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",j))}return Object.assign({},x,(t={},t[R]=h?_+"px":"",t[m]=E?g+"px":"",t.transform="",t))}function Xa(e){var t=e.state,o=e.options,a=o.gpuAcceleration,n=a===void 0?!0:a,r=o.adaptive,c=r===void 0?!0:r,s=o.roundOffsets,l=s===void 0?!0:s;{var v=W(t.elements.popper).transitionProperty||"";c&&["transform","top","right","bottom","left"].some(function(p){return v.indexOf(p)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var i={placement:Pe(t.placement),variation:ht(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Je(Object.assign({},i,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Je(Object.assign({},i,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Wa={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xa,data:{}};function Ha(e){var t=e.state;Object.keys(t.elements).forEach(function(o){var a=t.styles[o]||{},n=t.attributes[o]||{},r=t.elements[o];!B(r)||!X(r)||(Object.assign(r.style,a),Object.keys(n).forEach(function(c){var s=n[c];s===!1?r.removeAttribute(c):r.setAttribute(c,s===!0?"":s)}))})}function qa(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach(function(a){var n=t.elements[a],r=t.attributes[a]||{},c=Object.keys(t.styles.hasOwnProperty(a)?t.styles[a]:o[a]),s=c.reduce(function(l,v){return l[v]="",l},{});!B(n)||!X(n)||(Object.assign(n.style,s),Object.keys(r).forEach(function(l){n.removeAttribute(l)}))})}}var Za={name:"applyStyles",enabled:!0,phase:"write",fn:Ha,effect:qa,requires:["computeStyles"]},Ga=[Ua,Fa,Wa,Za],Ja=za({defaultModifiers:Ga});function Ka(e,t,o){var a=Pe(e),n=[Q,ne].indexOf(a)>=0?-1:1,r=typeof o=="function"?o(Object.assign({},t,{placement:e})):o,c=r[0],s=r[1];return c=c||0,s=(s||0)*n,[Q,fe].indexOf(a)>=0?{x:s,y:c}:{x:c,y:s}}function Qa(e){var t=e.state,o=e.options,a=e.name,n=o.offset,r=n===void 0?[0,0]:n,c=wa.reduce(function(i,p){return i[p]=Ka(p,t.rects,r),i},{}),s=c[t.placement],l=s.x,v=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=v),t.modifiersData[a]=c}var eo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qa};const[to,G]=de("popover"),ao=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],oo={show:Boolean,theme:N("light"),overlay:Boolean,actions:je(),actionsDirection:N("vertical"),trigger:N("click"),duration:ce,showArrow:M,placement:N("bottom"),iconPrefix:String,overlayClass:oe,overlayStyle:Object,closeOnClickAction:M,closeOnClickOverlay:M,closeOnClickOutside:M,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var no=ie({name:to,props:oo,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:o,attrs:a}){let n;const r=L(),c=L(),s=L(),l=qt(()=>e.show,h=>t("update:show",h)),v=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},ue({},eo,{options:{offset:e.offset}})]}),i=()=>c.value&&s.value?Ja(c.value,s.value.popupRef.value,v()):null,p=()=>{Ve(()=>{l.value&&(n?n.setOptions(v()):(n=i(),Ee&&(window.addEventListener("animationend",p),window.addEventListener("transitionend",p))))})},w=h=>{l.value=h},g=()=>{e.trigger==="click"&&(l.value=!l.value)},k=(h,m)=>{h.disabled||(t("select",h,m),e.closeOnClickAction&&(l.value=!1))},_=()=>{l.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(l.value=!1)},P=(h,m)=>o.action?o.action({action:h,index:m}):[h.icon&&f(K,{name:h.icon,classPrefix:e.iconPrefix,class:G("action-icon")},null),f("div",{class:[G("action-text"),{[jt]:e.actionsDirection==="vertical"}]},[h.text])],E=(h,m)=>{const{icon:R,color:O,disabled:S,className:T}=h;return f("div",{role:"menuitem",class:[G("action",{disabled:S,"with-icon":R}),{[Tt]:e.actionsDirection==="horizontal"},T],style:{color:O},tabindex:S?void 0:0,"aria-disabled":S||void 0,onClick:()=>k(h,m)},[P(h,m)])};return tt(()=>{p(),Dt(()=>{var h;r.value=(h=s.value)==null?void 0:h.popupRef.value})}),ot(()=>{n&&(Ee&&(window.removeEventListener("animationend",p),window.removeEventListener("transitionend",p)),n.destroy(),n=null)}),Y(()=>[l.value,e.offset,e.placement],p),Lt([c,r],_,{eventName:"touchstart"}),()=>{var h;return f(nt,null,[f("span",{ref:c,class:G("wrapper"),onClick:g},[(h=o.reference)==null?void 0:h.call(o)]),f(Me,Se({ref:s,show:l.value,class:G([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":w},a,At(),ae(e,ao)),{default:()=>[e.showArrow&&f("div",{class:G("arrow")},null),f("div",{role:"menu",class:G("content",e.actionsDirection)},[o.default?o.default():e.actions.map(E)])]})])}}});const ro=xe(no),[io,D,so]=de("uploader");function Ke(e,t){return new Promise(o=>{if(t==="file"){o();return}const a=new FileReader;a.onload=n=>{o(n.target.result)},t==="dataUrl"?a.readAsDataURL(e):t==="text"&&a.readAsText(e)})}function wt(e,t){return rt(e).some(o=>o.file?Vt(t)?t(o.file):o.file.size>+t:!1)}function lo(e,t){const o=[],a=[];return e.forEach(n=>{wt(n,t)?a.push(n):o.push(n)}),{valid:o,invalid:a}}const co=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,uo=e=>co.test(e);function yt(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?uo(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var fo=ie({props:{name:ce,item:le(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:t,slots:o}){const a=()=>{const{status:i,message:p}=e.item;if(i==="uploading"||i==="failed"){const w=i==="failed"?f(K,{name:"close",class:D("mask-icon")},null):f(Le,{class:D("loading")},null),g=Mt(p)&&p!=="";return f("div",{class:D("mask")},[w,g&&f("div",{class:D("mask-message")},[p])])}},n=i=>{const{name:p,item:w,index:g,beforeDelete:k}=e;i.stopPropagation(),at(k,{args:[w,{name:p,index:g}],done:()=>t("delete")})},r=()=>t("preview"),c=()=>t("reupload"),s=()=>{if(e.deletable&&e.item.status!=="uploading"){const i=o["preview-delete"];return f("div",{role:"button",class:D("preview-delete",{shadow:!i}),tabindex:0,"aria-label":so("delete"),onClick:n},[i?i():f(K,{name:"cross",class:D("preview-delete-icon")},null)])}},l=()=>{if(o["preview-cover"]){const{index:i,item:p}=e;return f("div",{class:D("preview-cover")},[o["preview-cover"](ue({index:i},p))])}},v=()=>{const{item:i,lazyLoad:p,imageFit:w,previewSize:g,reupload:k}=e;return yt(i)?f(ze,{fit:w,src:i.objectUrl||i.content||i.url,class:D("preview-image"),width:Array.isArray(g)?g[0]:g,height:Array.isArray(g)?g[1]:g,lazyLoad:p,onClick:k?c:r},{default:l}):f("div",{class:D("file"),style:it(e.previewSize)},[f(K,{class:D("file-icon"),name:"description"},null),f("div",{class:[D("file-name"),"van-ellipsis"]},[i.file?i.file.name:i.url]),l()])};return()=>f("div",{class:D("preview")},[v(),a(),s()])}});const vo={name:te(""),accept:N("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:te(1/0),imageFit:N("cover"),resultType:N("dataUrl"),uploadIcon:N("photograph"),uploadText:String,deletable:M,reupload:Boolean,afterRead:Function,showUpload:M,modelValue:je(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:M,previewOptions:Object,previewFullImage:M,maxSize:{type:[Number,String,Function],default:1/0}};var po=ie({name:io,props:vo,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:t,slots:o}){const a=L(),n=[],r=L(-1),c=L(!1),s=(u=e.modelValue.length)=>({name:e.name,index:u}),l=()=>{a.value&&(a.value.value="")},v=u=>{if(l(),wt(u,e.maxSize))if(Array.isArray(u)){const y=lo(u,e.maxSize);if(u=y.valid,t("oversize",y.invalid,s()),!u.length)return}else{t("oversize",u,s());return}if(u=Ae(u),r.value>-1){const y=[...e.modelValue];y.splice(r.value,1,u),t("update:modelValue",y),r.value=-1}else t("update:modelValue",[...e.modelValue,...rt(u)]);e.afterRead&&e.afterRead(u,s())},i=u=>{const{maxCount:y,modelValue:I,resultType:x}=e;if(Array.isArray(u)){const A=+y-I.length;u.length>A&&(u=u.slice(0,A)),Promise.all(u.map(j=>Ke(j,x))).then(j=>{const ve=u.map((se,d)=>{const b={file:se,status:"",message:"",objectUrl:URL.createObjectURL(se)};return j[d]&&(b.content=j[d]),b});v(ve)})}else Ke(u,x).then(A=>{const j={file:u,status:"",message:"",objectUrl:URL.createObjectURL(u)};A&&(j.content=A),v(j)})},p=u=>{const{files:y}=u.target;if(e.disabled||!y||!y.length)return;const I=y.length===1?y[0]:[].slice.call(y);if(e.beforeRead){const x=e.beforeRead(I,s());if(!x){l();return}if(zt(x)){x.then(A=>{i(A||I)}).catch(l);return}}i(I)};let w;const g=()=>t("closePreview"),k=u=>{if(e.previewFullImage){const y=e.modelValue.filter(yt),I=y.map(x=>(x.objectUrl&&!x.url&&x.status!=="failed"&&(x.url=x.objectUrl,n.push(x.url)),x.url)).filter(Boolean);w=sa(ue({images:I,startPosition:y.indexOf(u),onClose:g},e.previewOptions))}},_=()=>{w&&w.close()},P=(u,y)=>{const I=e.modelValue.slice(0);I.splice(y,1),t("update:modelValue",I),t("delete",u,s(y))},E=u=>{c.value=!0,r.value=u,Ve(()=>T())},h=()=>{c.value||(r.value=-1),c.value=!1},m=(u,y)=>{const I=["imageFit","deletable","reupload","previewSize","beforeDelete"],x=ue(ae(e,I),ae(u,I,!0));return f(fo,Se({item:u,index:y,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",u,s(y)),onDelete:()=>P(u,y),onPreview:()=>k(u),onReupload:()=>E(y)},ae(e,["name","lazyLoad"]),x),ae(o,["preview-cover","preview-delete"]))},R=()=>{if(e.previewImage)return e.modelValue.map(m)},O=u=>t("clickUpload",u),S=()=>{if(e.modelValue.length>=+e.maxCount&&!e.reupload)return;const u=e.modelValue.length>=+e.maxCount&&e.reupload,y=e.readonly?null:f("input",{ref:a,type:"file",class:D("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&r.value===-1,disabled:e.disabled,onChange:p,onClick:h},null);return o.default?Fe(f("div",{class:D("input-wrapper"),onClick:O},[o.default(),y]),[[$e,!u]]):Fe(f("div",{class:D("upload",{readonly:e.readonly}),style:it(e.previewSize),onClick:O},[f(K,{name:e.uploadIcon,class:D("upload-icon")},null),e.uploadText&&f("span",{class:D("upload-text")},[e.uploadText]),y]),[[$e,e.showUpload&&!u]])},T=()=>{a.value&&!e.disabled&&a.value.click()};return ot(()=>{n.forEach(u=>URL.revokeObjectURL(u))}),Te({chooseFile:T,closeImagePreview:_}),Qe(()=>e.modelValue),()=>f("div",{class:D()},[f("div",{class:D("wrapper",{disabled:e.disabled})},[R(),S()])])}});const mo=xe(po),go={class:"flex flex-col items-center"},ho={style:{margin:"16px"}},wo={__name:"UserSetPopup",setup(e){const t=L([{url:"https://fastly.jsdelivr.net/npm/@vant/assets/leaf.jpeg"}]),o=r=>r.type!=="image/jpeg"?(Ut("請上傳jpg圖片"),!1):!0,a=L(""),n=r=>{console.log("submit",r)};return(r,c)=>{const s=mo,l=Nt,v=Ft,i=ct,p=$t;return st(),Bt(nt,null,[$("div",go,[f(s,{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=w=>t.value=w),reupload:"","max-count":"1","preview-size":"10rem","before-read":o},null,8,["modelValue"])]),f(p,{onSubmit:n},{default:J(()=>[f(v,{inset:""},{default:J(()=>[f(l,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=w=>a.value=w),name:"暱稱",label:"暱稱",placeholder:"音痴草",rules:[{required:!1,message:"請填寫暱稱"}]},null,8,["modelValue"])]),_:1}),$("div",ho,[f(i,{round:"",block:"",type:"primary","native-type":"submit"},{default:J(()=>[lt(" 儲存 ")]),_:1})])]),_:1})],64)}}},yo={class:"flex justify-between items-center"},bo={class:"flex items-center"},Oo=$("p",{class:"ml-6"},"音痴草",-1),xo={class:"flex justify-between items-center mt-4"},So=$("h2",null,"背景模式",-1),Co={class:"flex justify-between items-center mt-4"},Po=$("h2",null,"語言",-1),Eo={__name:"UserPage",setup(e){const t=L(!1),o=()=>{t.value=!0},a=L(!1),n=L(!1),r=[{text:"中文"},{text:"英文"}];return(c,s)=>{const l=ze,v=K,i=Me,p=Kt,w=ct,g=ro;return st(),Yt(Xt,{"is-search":!0},{default:J(()=>[$("div",yo,[$("div",bo,[f(l,{round:"",width:"5rem",height:"5rem",fit:"cover",position:"center",src:"https://fastly.jsdelivr.net/npm/@vant/assets/leaf.jpeg"}),Oo]),f(v,{onClick:o,name:"setting-o",size:28}),f(i,{show:t.value,"onUpdate:show":s[0]||(s[0]=k=>t.value=k),position:"right",round:"",style:{width:"90%",height:"100%",padding:"64px"},closeable:"","close-icon":"close"},{default:J(()=>[f(wo)]),_:1},8,["show"])]),$("div",xo,[So,f(p,{modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=k=>a.value=k)},null,8,["modelValue"])]),$("div",Co,[Po,f(g,{placement:"left",show:n.value,"onUpdate:show":s[2]||(s[2]=k=>n.value=k),theme:"dark",actions:r},{reference:J(()=>[f(w,{round:"",type:"default"},{default:J(()=>[lt("中文")]),_:1})]),_:1},8,["show"])])]),_:1})}}};export{Eo as default};
