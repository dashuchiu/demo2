import{c as K,d as Q,o as V,aq as ve,h as M,b as Y,aa as pe,Y as Ve,P as Be,R as Ie,a5 as ge,a0 as re,a as o,n as L,t as Z,T as se,ak as T,aX as Te,j as ne,I as G,w as J,m as X,ar as ze,aA as Ae,Z as Le,aY as ie,a1 as ce,aZ as Me,a_ as Ee,av as Ne,ax as Re,aC as Oe,u as je,a$ as De,X as Ue,ab as qe,ae as He,e as Fe,r as Ye,g as Xe,f as Ze,k as Ke,b0 as Qe,_ as W,x as j,p as ue,q,C as H,F as be,D as Ge,z as Je,G as O,aU as he,y as n,A as v,b1 as _e,al as A,H as We,J as et,b2 as te,aF as tt,b3 as de,b4 as at,ao as nt}from"./index-BXVa5rxE.js";const[ot,D]=K("image"),lt={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:L,height:L,radius:L,lazyLoad:Boolean,iconSize:L,showError:Z,errorIcon:se("photo-fail"),iconPrefix:String,showLoading:Z,loadingIcon:se("photo"),crossorigin:String,referrerpolicy:String};var rt=Q({name:ot,props:lt,emits:["load","error"],setup(e,{emit:m,slots:i}){const g=V(!1),c=V(!0),l=V(),{$Lazyload:_}=ve().proxy,r=M(()=>{const a={width:Y(e.width),height:Y(e.height)};return pe(e.radius)&&(a.overflow="hidden",a.borderRadius=Y(e.radius)),a});Ve(()=>e.src,()=>{g.value=!1,c.value=!0});const x=a=>{c.value&&(c.value=!1,m("load",a))},d=()=>{const a=new Event("load");Object.defineProperty(a,"target",{value:l.value,enumerable:!0}),x(a)},f=a=>{g.value=!0,c.value=!1,m("error",a)},y=(a,s,I)=>I?I():o(G,{name:a,size:e.iconSize,class:s,classPrefix:e.iconPrefix},null),h=()=>{if(c.value&&e.showLoading)return o("div",{class:D("loading")},[y(e.loadingIcon,D("loading-icon"),i.loading)]);if(g.value&&e.showError)return o("div",{class:D("error")},[y(e.errorIcon,D("error-icon"),i.error)])},k=()=>{if(g.value||!e.src)return;const a={alt:e.alt,class:D("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?T(o("img",ne({ref:l},a),null),[[Te("lazy"),e.src]]):o("img",ne({ref:l,src:e.src,onLoad:x,onError:f},a),null)},b=({el:a})=>{const s=()=>{a===l.value&&c.value&&d()};l.value?s():re(s)},S=({el:a})=>{a===l.value&&!g.value&&f()};return _&&Be&&(_.$on("loaded",b),_.$on("error",S),Ie(()=>{_.$off("loaded",b),_.$off("error",S)})),ge(()=>{re(()=>{var a;(a=l.value)!=null&&a.complete&&!e.lazyLoad&&d()})}),()=>{var a;return o("div",{class:D({round:e.round,block:e.block}),style:r.value},[k(),h(),(a=i.default)==null?void 0:a.call(i)])}}});const ye=J(rt),[st,U]=K("slider"),it={min:X(0),max:X(100),step:X(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:L,buttonSize:L,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var ct=Q({name:st,props:it,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:m,slots:i}){let g,c,l;const _=V(),r=[V(),V()],x=V(),d=ze(),f=M(()=>Number(e.max)-Number(e.min)),y=M(()=>{const t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:Y(e.barHeight)}}),h=t=>e.range&&Array.isArray(t),k=()=>{const{modelValue:t,min:u}=e;return h(t)?`${(t[1]-t[0])*100/f.value}%`:`${(t-Number(u))*100/f.value}%`},b=()=>{const{modelValue:t,min:u}=e;return h(t)?`${(t[0]-Number(u))*100/f.value}%`:"0%"},S=M(()=>{const u={[e.vertical?"height":"width"]:k(),background:e.activeColor};x.value&&(u.transition="none");const w=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return u[w()]=b(),u}),a=t=>{const u=+e.min,w=+e.max,P=+e.step;t=Oe(t,u,w);const C=Math.round((t-u)/P)*P;return Ee(u,C)},s=()=>{const t=e.modelValue;h(t)?l=t.map(a):l=a(t)},I=t=>{var u,w;const P=(u=t[0])!=null?u:Number(e.min),C=(w=t[1])!=null?w:Number(e.max);return P>C?[C,P]:[P,C]},B=(t,u)=>{h(t)?t=I(t).map(a):t=a(t),ie(t,e.modelValue)||m("update:modelValue",t),u&&!ie(t,l)&&m("change",t)},E=t=>{if(t.stopPropagation(),e.disabled||e.readonly)return;s();const{min:u,reverse:w,vertical:P,modelValue:C}=e,z=ce(_),ke=()=>P?w?z.bottom-t.clientY:t.clientY-z.top:w?z.right-t.clientX:t.clientX-z.left,Pe=P?z.height:z.width,F=Number(u)+ke()/Pe*f.value;if(h(C)){const[oe,le]=C,$e=(oe+le)/2;F<=$e?B([F,le],!0):B([oe,F],!0)}else B(F,!0)},N=t=>{e.disabled||e.readonly||(d.start(t),c=e.modelValue,s(),x.value="start")},R=t=>{if(e.disabled||e.readonly)return;x.value==="start"&&m("dragStart",t),Ne(t,!0),d.move(t),x.value="dragging";const u=ce(_),w=e.vertical?d.deltaY.value:d.deltaX.value,P=e.vertical?u.height:u.width;let C=w/P*f.value;if(e.reverse&&(C=-C),h(l)){const z=e.reverse?1-g:g;c[z]=l[z]+C}else c=l+C;B(c)},$=t=>{e.disabled||e.readonly||(x.value==="dragging"&&(B(c,!0),m("dragEnd",t)),x.value="")},p=t=>typeof t=="number"?U("button-wrapper",["left","right"][t]):U("button-wrapper",e.reverse?"left":"right"),Ce=(t,u)=>{const w=x.value==="dragging";if(typeof u=="number"){const P=i[u===0?"left-button":"right-button"];let C;if(w&&Array.isArray(c)&&(C=c[0]>c[1]?g^1:g),P)return P({value:t,dragging:w,dragIndex:C})}return i.button?i.button({value:t,dragging:w}):o("div",{class:U("button"),style:Re(e.buttonSize)},null)},ee=t=>{const u=typeof t=="number"?e.modelValue[t]:e.modelValue;return o("div",{ref:r[t??0],role:"slider",class:p(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":u,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:w=>{typeof t=="number"&&(g=t),N(w)},onTouchend:$,onTouchcancel:$,onClick:Me},[Ce(u,t)])};return B(e.modelValue),Ae(()=>e.modelValue),r.forEach(t=>{Le("touchmove",R,{target:t})}),()=>o("div",{ref:_,style:y.value,class:U({vertical:e.vertical,disabled:e.disabled}),onClick:E},[o("div",{class:U("bar"),style:S.value},[e.range?[ee(0),ee(1)]:ee()])])}});const xe=J(ct),[we,me]=K("tabbar"),ut={route:Boolean,fixed:Z,border:Z,zIndex:L,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:X(0),safeAreaInsetBottom:{type:Boolean,default:null}},Se=Symbol(we);var dt=Q({name:we,props:ut,emits:["change","update:modelValue"],setup(e,{emit:m,slots:i}){const g=V(),{linkChildren:c}=je(Se),l=De(g,me),_=()=>{var d;return(d=e.safeAreaInsetBottom)!=null?d:e.fixed},r=()=>{var d;const{fixed:f,zIndex:y,border:h}=e;return o("div",{ref:g,role:"tablist",style:Ue(y),class:[me({fixed:f}),{[qe]:h,"van-safe-area-bottom":_()}]},[(d=i.default)==null?void 0:d.call(i)])};return c({props:e,setActive:(d,f)=>{He(e.beforeChange,{args:[d],done(){m("update:modelValue",d),m("change",d),f()}})}}),()=>e.fixed&&e.placeholder?l(r):r()}});const mt=J(dt),[ft,ae]=K("tabbar-item"),vt=Fe({},Ye,{dot:Boolean,icon:String,name:L,badge:L,badgeProps:Object,iconPrefix:String});var gt=Q({name:ft,props:vt,emits:["click"],setup(e,{emit:m,slots:i}){const g=Xe(),c=ve().proxy,{parent:l,index:_}=Ze(Se);if(!l)return;const r=M(()=>{var f;const{route:y,modelValue:h}=l.props;if(y&&"$route"in c){const{$route:k}=c,{to:b}=e,S=Qe(b)?b:{path:b};return!!k.matched.find(a=>{const s="path"in S&&S.path===a.path,I="name"in S&&S.name===a.name;return s||I})}return((f=e.name)!=null?f:_.value)===h}),x=f=>{var y;r.value||l.setActive((y=e.name)!=null?y:_.value,g),m("click",f)},d=()=>{if(i.icon)return i.icon({active:r.value});if(e.icon)return o(G,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var f;const{dot:y,badge:h}=e,{activeColor:k,inactiveColor:b}=l.props,S=r.value?k:b;return o("div",{role:"tab",class:ae({active:r.value}),style:{color:S},tabindex:0,"aria-selected":r.value,onClick:x},[o(Ke,ne({dot:y,class:ae("icon"),content:h},e.badgeProps),{default:d}),o("div",{class:ae("text")},[(f=i.default)==null?void 0:f.call(i,{active:r.value})])])}}});const bt=J(gt),ht={__name:"index",setup(e){const m=V(0),i=V([{name:"video-o",path:"/video",label:"影片"},{name:"wap-home-o",path:"/main",label:"首頁"},{name:"list-switch",path:"/category",label:"分類"},{name:"user-circle-o",path:"/user",label:"我的"}]);return(g,c)=>{const l=bt,_=mt;return j(),ue(_,{modelValue:m.value,"onUpdate:modelValue":c[0]||(c[0]=r=>m.value=r),route:"","active-color":"#f97316"},{default:q(()=>[(j(!0),H(be,null,Ge(i.value,r=>(j(),ue(l,{replace:"",key:r.name,to:r.path,icon:r.name},{default:q(()=>[Je(O(r.label),1)]),_:2},1032,["to","icon"]))),128))]),_:1},8,["modelValue"])}}},_t=W(ht,[["__scopeId","data-v-f1344f9a"]]),yt={};function xt(e,m){return j(),H("div",null,"列表")}const wt=W(yt,[["render",xt]]),fe=e=>{const m=Math.floor(e/60).toString().padStart(2,"0"),i=Math.floor(e%60).toString().padStart(2,"0");return`${m}:${i}`},St=e=>(We("data-v-44d47907"),e=e(),et(),e),Ct={class:"flex flex-col h-full items-center"},kt={class:"title"},Pt={class:"artist text-sm text-stone-500"},$t={class:"progressList w-full flex justify-between items-center"},pt={class:"controller flex justify-between items-center"},Vt=St(()=>v("div",{class:"w-full mt-4 -mb-10 px-4 pt-2 grow rounded-md bg-stone-600 relative overflow-hidden",relative:""},[v("div",{class:"absolute tracking-wide text-stone-800"}," Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatem ratione aliquam magni aperiam ad! Recusandae quasi aliquid itaque voluptatibus impedit quisquam perferendis exercitationem magni magnam eius omnis, ab, non consectetur. ")],-1)),Bt={__name:"MusicPopup",setup(e){const{isPlaying:m,play:i,pause:g,currentTrackSong:c,currentTime:l,duration:_,changePlayMode:r,changeCurrentTime:x,nextTrack:d,prevTrack:f,playMode:y,PlayModes:h}=he("musicPlayer"),k=M(()=>m.value),b=M(()=>y.value===h.RANDOM),S=M(()=>y.value===h.LOOP);return(a,s)=>{var N,R,$;const I=ye,B=xe,E=G;return j(),H("div",Ct,[o(I,{class:"mb-8 mx-4 max-w-md",radius:"6",fit:"cover",position:"center",src:(N=n(c))==null?void 0:N.cover},null,8,["src"]),v("div",kt,O((R=n(c))==null?void 0:R.title),1),v("div",Pt,O(($=n(c))==null?void 0:$.singer),1),v("div",$t,[v("div",null,O(n(fe)(n(l))),1),o(B,{class:"mx-4 my-8",max:n(_),modelValue:n(l),"onUpdate:modelValue":s[0]||(s[0]=p=>_e(l)?l.value=p:null),"active-color":"#f97316","button-size":"16px",onChange:n(x)},null,8,["max","modelValue","onChange"]),v("div",null,O(n(fe)(n(_))),1)]),v("div",pt,[T(v("span",{onClick:s[1]||(s[1]=p=>n(r)(n(h).RANDOM)),class:"material-symbols-outlined"}," shuffle ",512),[[A,!b.value]]),T(v("span",{onClick:s[2]||(s[2]=p=>n(r)(n(h).SEQUENCE)),class:"material-symbols-outlined text-orange-400"}," shuffle ",512),[[A,b.value]]),v("span",{onClick:s[3]||(s[3]=(...p)=>n(f)&&n(f)(...p)),class:"iconArrow material-symbols-outlined"}," skip_previous "),T(o(E,{onClick:n(i),name:"play-circle",size:"72"},null,8,["onClick"]),[[A,!k.value]]),T(o(E,{onClick:n(g),name:"pause-circle",size:"72"},null,8,["onClick"]),[[A,k.value]]),v("span",{onClick:s[4]||(s[4]=(...p)=>n(d)&&n(d)(...p)),class:"iconArrow material-symbols-outlined"}," skip_next "),v("div",{onClick:s[7]||(s[7]=(...p)=>a.changeIcon&&a.changeIcon(...p))},[T(v("span",{class:"material-symbols-outlined",onClick:s[5]||(s[5]=p=>n(r)(n(h).LOOP))}," repeat ",512),[[A,!S.value]]),T(v("span",{onClick:s[6]||(s[6]=p=>n(r)(n(h).SEQUENCE)),class:"material-symbols-outlined text-orange-400"}," repeat_one ",512),[[A,S.value]])])]),Vt])}}},It=W(Bt,[["__scopeId","data-v-44d47907"]]),Tt={class:"relative"},zt={class:"h-16"},At={class:"flex h-full justify-between items-center"},Lt={class:"flex"},Mt={class:"songInfo flex flex-col"},Et={class:"title"},Nt={class:"artist text-sm text-stone-500"},Rt={class:"flex"},Ot={__name:"MusicPlayer",props:{isShow:{type:Boolean,default:!1}},setup(e){const{changeCurrentTime:m,duration:i,currentTime:g,isPlaying:c,play:l,pause:_,currentTrackSong:r}=he("musicPlayer"),x=M(()=>c.value),d=V(!1),f=k=>{d.value=k},y=V(!1),h=k=>{y.value=k};return(k,b)=>{var E,N,R;const S=xe,a=ye,s=G,I=wt,B=tt;return T((j(),H("div",Tt,[v("div",{onClick:b[3]||(b[3]=$=>f(!0)),class:"fixed bottom-12 bg-slate-200"},[o(S,{modelValue:n(g),"onUpdate:modelValue":b[0]||(b[0]=$=>_e(g)?g.value=$:null),max:n(i),"active-color":"#f97316","button-size":"0px",readonly:!0,onChange:n(m)},null,8,["modelValue","max","onChange"]),v("div",zt,[v("div",At,[v("div",Lt,[o(a,{class:"mx-4",width:"3rem",height:"3rem",radius:"6",fit:"cover",position:"center",src:(E=n(r))==null?void 0:E.cover},null,8,["src"]),v("div",Mt,[v("div",Et,O((N=n(r))==null?void 0:N.title),1),v("div",Nt,O((R=n(r))==null?void 0:R.singer),1)])]),v("div",Rt,[o(s,{onClick:b[1]||(b[1]=te($=>h(!0),["stop"])),name:"bars",size:"40"}),o(B,{show:y.value,"onUpdate:show":b[2]||(b[2]=$=>y.value=$),position:"bottom",round:"",closeable:"","close-icon":"close",style:{padding:"64px"}},{default:q(()=>[o(I)]),_:1},8,["show"]),T(o(s,{onClick:te(n(l),["stop"]),class:"mx-4",name:"play-circle-o",size:"40"},null,8,["onClick"]),[[A,!x.value]]),T(o(s,{onClick:te(n(_),["stop"]),class:"mx-4",name:"pause-circle-o",size:"40"},null,8,["onClick"]),[[A,x.value]])])])])]),o(B,{show:d.value,"onUpdate:show":b[4]||(b[4]=$=>d.value=$),position:"bottom",round:"",closeable:"","close-icon":"close",style:{padding:"64px"}},{default:q(()=>[o(It)]),_:1},8,["show"])],512)),[[A,e.isShow]])}}},jt=W(Ot,[["__scopeId","data-v-e1b3b791"]]),Dt={id:"footer"},qt={__name:"index",props:{leftArrow:{type:Boolean,default:!1},isSearch:{type:Boolean,default:!1},leftText:{type:String,default:""},clickable:{type:Boolean,default:!0},forTitle:{type:String,default:""},isShow:{type:Boolean,default:!1}},setup(e){const m=V(0);return ge(()=>{const i=window.innerHeight-50;m.value=i}),(i,g)=>(j(),H(be,null,[o(at,{"left-arrow":e.leftArrow,"left-text":e.leftText,"is-search":e.isSearch,clickable:e.clickable,"for-title":e.forTitle},{right:q(()=>[de(i.$slots,"headerRight")]),_:3},8,["left-arrow","left-text","is-search","clickable","for-title"]),v("main",{id:"scroll-wrapper",class:"px-6 pt-14 flex flex-col overflow-x-hidden overflow-y-scroll",style:nt({height:`${m.value}px`})},[de(i.$slots,"default")],4),v("footer",Dt,[o(jt,{"is-show":e.isShow},null,8,["is-show"]),o(_t)])],64))}};export{ye as I,qt as _};
