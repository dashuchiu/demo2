import{V as ze,W as me,X as te,Y as Je,o as k,Z as et,$ as tt,a0 as nt,a1 as at,a2 as Le,c as E,n as B,P as ce,m as K,d as D,a3 as be,N as ye,h as P,a4 as Oe,e as we,a5 as We,R as W,a6 as le,a7 as ie,a8 as Z,a9 as F,S as Ee,aa as ot,a as d,w as V,ab as ue,O as xe,T as ne,t as X,ac as De,u as Ne,Q as lt,ad as it,b as se,ae as re,af as st,ag as He,ah as Te,ai as rt,aj as ct,k as dt,r as ut,ak as ft,f as Me,al as vt,am as ht,an as mt,ao as gt,ap as bt,aq as yt,ar as wt,as as xt,j as Fe,at as Ce,au as St,av as _t,aw as kt,ax as Tt,ay as Ve,az as Ct,aA as Rt,aB as $t,F as ge,aC as It,l as Bt,p as Re,q as J,v as At,x as ee,A as fe,C as $e,y as Ie,D as Be,G as pt,aD as Pt}from"./index-DDCgj_Ao.js";import{S as zt,a as Lt}from"./index-B3UjfAXe.js";import{_ as Ot}from"./index-G1VnjAgF.js";function Wt(e,a,n){let i,r=0;const t=e.scrollLeft,c=n===0?1:Math.round(n*1e3/16);function s(){ze(i)}function o(){e.scrollLeft+=(a-t)/c,++r<c&&(i=me(o))}return o(),s}function Et(e,a,n,i){let r,t=te(e);const c=t<a,s=n===0?1:Math.round(n*1e3/16),o=(a-t)/s;function f(){ze(r)}function b(){t+=o,(c&&t>a||!c&&t<a)&&(t=a),Je(e,t),c&&t<a||!c&&t>a?r=me(b):i&&(r=me(i))}return b(),f}function Dt(){const e=k([]),a=[];return et(()=>{e.value=[]}),[e,i=>(a[i]||(a[i]=r=>{e.value[i]=r}),a[i])]}function je(e,a){if(!tt||!window.IntersectionObserver)return;const n=new IntersectionObserver(t=>{a(t[0].intersectionRatio>0)},{root:document.body}),i=()=>{e.value&&n.observe(e.value)},r=()=>{e.value&&n.unobserve(e.value)};nt(r),at(r),Le(i)}const[Nt,Ht]=E("sticky"),Mt={zIndex:B,position:ce("top"),container:Object,offsetTop:K(0),offsetBottom:K(0)};var Ft=D({name:Nt,props:Mt,emits:["scroll","change"],setup(e,{emit:a,slots:n}){const i=k(),r=be(i),t=ye({fixed:!1,width:0,height:0,transform:0}),c=k(!1),s=P(()=>Oe(e.position==="top"?e.offsetTop:e.offsetBottom)),o=P(()=>{if(c.value)return;const{fixed:m,height:T,width:v}=t;if(m)return{width:`${v}px`,height:`${T}px`}}),f=P(()=>{if(!t.fixed||c.value)return;const m=we(We(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${s.value}px`});return t.transform&&(m.transform=`translate3d(0, ${t.transform}px, 0)`),m}),b=m=>a("scroll",{scrollTop:m,isFixed:t.fixed}),A=()=>{if(!i.value||ie(i))return;const{container:m,position:T}=e,v=F(i),w=te(window);if(t.width=v.width,t.height=v.height,T==="top")if(m){const h=F(m),z=h.bottom-s.value-t.height;t.fixed=s.value>v.top&&h.bottom>0,t.transform=z<0?z:0}else t.fixed=s.value>v.top;else{const{clientHeight:h}=document.documentElement;if(m){const z=F(m),y=h-z.top-s.value-t.height;t.fixed=h-s.value<v.bottom&&h>z.top,t.transform=y<0?-y:0}else t.fixed=h-s.value<v.bottom}b(w)};return W(()=>t.fixed,m=>a("change",m)),le("scroll",A,{target:r,passive:!0}),je(i,A),W([Ee,ot],()=>{!i.value||ie(i)||!t.fixed||(c.value=!0,Z(()=>{const m=F(i);t.width=m.width,t.height=m.height,c.value=!1}))}),()=>{var m;return d("div",{ref:i,style:o.value},[d("div",{class:Ht({fixed:t.fixed&&!c.value}),style:f.value},[(m=n.default)==null?void 0:m.call(n)])])}}});const Vt=V(Ft),[jt,Ae]=E("tabs");var Ut=D({name:jt,props:{count:ue(Number),inited:Boolean,animated:Boolean,duration:ue(B),swipeable:Boolean,lazyRender:Boolean,currentIndex:ue(Number)},emits:["change"],setup(e,{emit:a,slots:n}){const i=k(),r=s=>a("change",s),t=()=>{var s;const o=(s=n.default)==null?void 0:s.call(n);return e.animated||e.swipeable?d(zt,{ref:i,loop:!1,class:Ae("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[o]}):o},c=s=>{const o=i.value;o&&o.state.active!==s&&o.swipeTo(s,{immediate:!e.inited})};return W(()=>e.currentIndex,c),xe(()=>{c(e.currentIndex)}),ne({swipeRef:i}),()=>d("div",{class:Ae("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ue,oe]=E("tabs"),Zt={type:ce("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:K(0),duration:K(.3),animated:Boolean,ellipsis:X,swipeable:Boolean,scrollspy:Boolean,offsetTop:K(0),background:String,lazyRender:X,showHeader:X,lineWidth:B,lineHeight:B,beforeChange:Function,swipeThreshold:K(5),titleActiveColor:String,titleInactiveColor:String},Ze=Symbol(Ue);var Xt=D({name:Ue,props:Zt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:a,slots:n}){let i,r,t,c,s;const o=k(),f=k(),b=k(),A=k(),m=De(),T=be(o),[v,w]=Dt(),{children:h,linkChildren:z}=Ne(Ze),y=ye({inited:!1,position:"",lineStyle:{},currentIndex:-1}),j=P(()=>h.length>+e.swipeThreshold||!e.ellipsis||e.shrink),G=P(()=>({borderColor:e.color,background:e.background})),U=(l,u)=>{var x;return(x=l.name)!=null?x:u},Q=P(()=>{const l=h[y.currentIndex];if(l)return U(l,y.currentIndex)}),H=P(()=>Oe(e.offsetTop)),g=P(()=>e.sticky?H.value+i:0),S=l=>{const u=f.value,x=v.value;if(!j.value||!u||!x||!x[y.currentIndex])return;const I=x[y.currentIndex].$el,R=I.offsetLeft-(u.offsetWidth-I.offsetWidth)/2;c&&c(),c=Wt(u,R,l?0:+e.duration)},_=()=>{const l=y.inited;Z(()=>{const u=v.value;if(!u||!u[y.currentIndex]||e.type!=="line"||ie(o.value))return;const x=u[y.currentIndex].$el,{lineWidth:I,lineHeight:R}=e,O=x.offsetLeft+x.offsetWidth/2,q={width:se(I),backgroundColor:e.color,transform:`translateX(${O}px) translateX(-50%)`};if(l&&(q.transitionDuration=`${e.duration}s`),re(R)){const ae=se(R);q.height=ae,q.borderRadius=ae}y.lineStyle=q})},$=l=>{const u=l<y.currentIndex?-1:1;for(;l>=0&&l<h.length;){if(!h[l].disabled)return l;l+=u}},C=(l,u)=>{const x=$(l);if(!re(x))return;const I=h[x],R=U(I,x),O=y.currentIndex!==null;y.currentIndex!==x&&(y.currentIndex=x,u||S(),_()),R!==e.active&&(a("update:active",R),O&&a("change",R,I.title)),t&&!e.scrollspy&&He(Math.ceil(Te(o.value)-H.value))},p=(l,u)=>{const x=h.find((R,O)=>U(R,O)===l),I=x?h.indexOf(x):0;C(I,u)},M=(l=!1)=>{if(e.scrollspy){const u=h[y.currentIndex].$el;if(u&&T.value){const x=Te(u,T.value)-g.value;r=!0,s&&s(),s=Et(T.value,x,l?0:+e.duration,()=>{r=!1})}}},N=(l,u,x)=>{const{title:I,disabled:R}=h[u],O=U(h[u],u);R||(rt(e.beforeChange,{args:[O],done:()=>{C(u),M()}}),ct(l)),a("clickTab",{name:O,title:I,event:x,disabled:R})},L=l=>{t=l.isFixed,a("scroll",l)},de=l=>{Z(()=>{p(l),M(!0)})},Y=()=>{for(let l=0;l<h.length;l++){const{top:u}=F(h[l].$el);if(u>g.value)return l===0?0:l-1}return h.length-1},qe=()=>{if(e.scrollspy&&!r){const l=Y();C(l)}},Ke=()=>{if(e.type==="line"&&h.length)return d("div",{class:oe("line"),style:y.lineStyle},null)},_e=()=>{var l,u,x;const{type:I,border:R,sticky:O}=e,q=[d("div",{ref:O?void 0:b,class:[oe("wrap"),{[st]:I==="line"&&R}]},[d("div",{ref:f,role:"tablist",class:oe("nav",[I,{shrink:e.shrink,complete:j.value}]),style:G.value,"aria-orientation":"horizontal"},[(l=n["nav-left"])==null?void 0:l.call(n),h.map(ae=>ae.renderTitle(N)),Ke(),(u=n["nav-right"])==null?void 0:u.call(n)])]),(x=n["nav-bottom"])==null?void 0:x.call(n)];return O?d("div",{ref:b},[q]):q},ke=()=>{_(),Z(()=>{var l,u;S(!0),(u=(l=A.value)==null?void 0:l.swipeRef.value)==null||u.resize()})};W(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],_),W(Ee,ke),W(()=>e.active,l=>{l!==Q.value&&p(l)}),W(()=>h.length,()=>{y.inited&&(p(e.active),_(),Z(()=>{S(!0)}))});const Ge=()=>{p(e.active,!0),Z(()=>{y.inited=!0,b.value&&(i=F(b.value).height),S(!0)})},Qe=(l,u)=>a("rendered",l,u);return ne({resize:ke,scrollTo:de}),lt(_),it(_),Le(Ge),je(o,_),le("scroll",qe,{target:T,passive:!0}),z({id:m,props:e,setLine:_,scrollable:j,onRendered:Qe,currentName:Q,setTitleRefs:w,scrollIntoView:S}),()=>d("div",{ref:o,class:oe([e.type])},[e.showHeader?e.sticky?d(Vt,{container:o.value,offsetTop:H.value,onScroll:L},{default:()=>[_e()]}):_e():null,d(Ut,{ref:A,count:h.length,inited:y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:y.currentIndex,onChange:C},{default:()=>{var l;return[(l=n.default)==null?void 0:l.call(n)]}})])}});const Yt=Symbol(),[qt,pe]=E("tab"),Kt=D({name:qt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:B,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:X},setup(e,{slots:a}){const n=P(()=>{const r={},{type:t,color:c,disabled:s,isActive:o,activeColor:f,inactiveColor:b}=e;c&&t==="card"&&(r.borderColor=c,s||(o?r.backgroundColor=c:r.color=c));const m=o?f:b;return m&&(r.color=m),r}),i=()=>{const r=d("span",{class:pe("text",{ellipsis:!e.scrollable})},[a.title?a.title():e.title]);return e.dot||re(e.badge)&&e.badge!==""?d(dt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>d("div",{id:e.id,role:"tab",class:[pe([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[i()])}}),[Gt,ve]=E("tab"),Qt=we({},ut,{dot:Boolean,name:B,badge:B,title:String,disabled:Boolean,titleClass:ft,titleStyle:[String,Object],showZeroBadge:X});var Jt=D({name:Gt,props:Qt,setup(e,{slots:a}){const n=De(),i=k(!1),r=St(),{parent:t,index:c}=Me(Ze);if(!t)return;const s=()=>{var v;return(v=e.name)!=null?v:c.value},o=()=>{i.value=!0,t.props.lazyRender&&Z(()=>{t.onRendered(s(),e.title)})},f=P(()=>{const v=s()===t.currentName.value;return v&&!i.value&&o(),v}),b=k(""),A=k("");vt(()=>{const{titleClass:v,titleStyle:w}=e;b.value=v?yt(v):"",A.value=w&&typeof w!="string"?wt(xt(w)):w});const m=v=>d(Kt,Fe({key:n,id:`${t.id}-${c.value}`,ref:t.setTitleRefs(c.value),style:A.value,class:b.value,isActive:f.value,controls:n,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:w=>v(r.proxy,c.value,w)},Ce(t.props,["type","color","shrink"]),Ce(e,["dot","badge","title","disabled","showZeroBadge"])),{title:a.title}),T=k(!f.value);return W(f,v=>{v?T.value=!1:ht(()=>{T.value=!0})}),W(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),mt(Yt,f),ne({id:n,renderTitle:m}),()=>{var v;const w=`${t.id}-${c.value}`,{animated:h,swipeable:z,scrollspy:y,lazyRender:j}=t.props;if(!a.default&&!h)return;const G=y||f.value;if(h||z)return d(Lt,{id:n,role:"tabpanel",class:ve("panel-wrapper",{inactive:T.value}),tabindex:f.value?0:-1,"aria-hidden":!f.value,"aria-labelledby":w},{default:()=>{var H;return[d("div",{class:ve("panel")},[(H=a.default)==null?void 0:H.call(a)])]}});const Q=i.value||y||!j?(v=a.default)==null?void 0:v.call(a):null;return gt(d("div",{id:n,role:"tabpanel",class:ve("panel"),tabindex:G?0:-1,"aria-labelledby":w},[Q]),[[bt,G]])}}});const en=V(Jt),tn=V(Xt);function nn(){return Array(26).fill("").map((n,i)=>String.fromCharCode(65+i))}const[Xe,he]=E("index-bar"),an={sticky:X,zIndex:B,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Tt(0),indexList:{type:Array,default:nn}},Ye=Symbol(Xe);var on=D({name:Xe,props:an,emits:["select","change"],setup(e,{emit:a,slots:n}){const i=k(),r=k(),t=k(""),c=_t(),s=be(i),{children:o,linkChildren:f}=Ne(Ye);let b;f({props:e});const A=P(()=>{if(re(e.zIndex))return{zIndex:+e.zIndex+1}}),m=P(()=>{if(e.highlightColor)return{color:e.highlightColor}}),T=(g,S)=>{for(let _=o.length-1;_>=0;_--){const $=_>0?S[_-1].height:0,C=e.sticky?$+e.stickyOffsetTop:0;if(g+C>=S[_].top)return _}return-1},v=g=>o.find(S=>String(S.index)===g),w=()=>{if(ie(i))return;const{sticky:g,indexList:S}=e,_=te(s.value),$=F(s),C=o.map(M=>M.getRect(s.value,$));let p=-1;if(b){const M=v(b);if(M){const N=M.getRect(s.value,$);p=T(N.top,C)}}else p=T(_,C);t.value=S[p],g&&o.forEach((M,N)=>{const{state:L,$el:de}=M;if(N===p||N===p-1){const Y=de.getBoundingClientRect();L.left=Y.left,L.width=Y.width}else L.left=null,L.width=null;if(N===p)L.active=!0,L.top=Math.max(e.stickyOffsetTop,C[N].top-_)+$.top;else if(N===p-1&&b===""){const Y=C[p].top-_;L.active=Y>0,L.top=Y+$.top-C[N].height}else L.active=!1}),b=""},h=()=>{Z(w)};le("scroll",w,{target:s,passive:!0}),xe(h),W(()=>e.indexList,h),W(t,g=>{g&&a("change",g)});const z=()=>e.indexList.map(g=>{const S=g===t.value;return d("span",{class:he("index",{active:S}),style:S?m.value:void 0,"data-index":g},[g])}),y=g=>{b=String(g);const S=v(b);if(S){const _=te(s.value),$=F(s),{offsetHeight:C}=document.documentElement;if(S.$el.scrollIntoView(),_===C-$.height){w();return}e.sticky&&e.stickyOffsetTop&&He(Ve()-e.stickyOffsetTop),a("select",S.index)}},j=g=>{const{index:S}=g.dataset;S&&y(S)},G=g=>{j(g.target)};let U;const Q=g=>{if(c.move(g),c.isVertical()){Ct(g);const{clientX:S,clientY:_}=g.touches[0],$=document.elementFromPoint(S,_);if($){const{index:C}=$.dataset;C&&U!==C&&(U=C,j($))}}},H=()=>d("div",{ref:r,class:he("sidebar"),style:A.value,onClick:G,onTouchstartPassive:c.start},[z()]);return ne({scrollTo:y}),le("touchmove",Q,{target:r}),()=>{var g;return d("div",{ref:i,class:he()},[e.teleport?d(kt,{to:e.teleport},{default:()=>[H()]}):H(),(g=n.default)==null?void 0:g.call(n)])}}});const[ln,sn]=E("index-anchor"),rn={index:B};var cn=D({name:ln,props:rn,setup(e,{slots:a}){const n=ye({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),i=k(),{parent:r}=Me(Ye);if(!r)return;const t=()=>n.active&&r.props.sticky,c=P(()=>{const{zIndex:o,highlightColor:f}=r.props;if(t())return we(We(o),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:f})});return ne({state:n,getRect:(o,f)=>{const b=F(i);return n.rect.height=b.height,o===window||o===document.body?n.rect.top=b.top+Ve():n.rect.top=b.top+te(o)-f.top,n.rect}}),()=>{const o=t();return d("div",{ref:i,style:{height:o?`${n.rect.height}px`:void 0}},[d("div",{style:c.value,class:[sn({sticky:o}),{[Rt]:o}]},[a.default?a.default():e.index])])}}});const dn=V(cn),un=V(on),[fn,vn]=E("skeleton-title"),hn={round:Boolean,titleWidth:B};var mn=D({name:fn,props:hn,setup(e){return()=>d("h3",{class:vn([{round:e.round}]),style:{width:se(e.titleWidth)}},null)}});const gn=V(mn);var bn=gn;const[yn,wn]=E("skeleton-avatar"),xn={avatarSize:B,avatarShape:ce("round")};var Sn=D({name:yn,props:xn,setup(e){return()=>d("div",{class:wn([e.avatarShape]),style:$t(e.avatarSize)},null)}});const _n=V(Sn);var kn=_n;const Se="100%",Tn={round:Boolean,rowWidth:{type:B,default:Se}},[Cn,Rn]=E("skeleton-paragraph");var $n=D({name:Cn,props:Tn,setup(e){return()=>d("div",{class:Rn([{round:e.round}]),style:{width:e.rowWidth}},null)}});const In=V($n);var Bn=In;const[An,Pe]=E("skeleton"),pn="60%",Pn={row:K(0),round:Boolean,title:Boolean,titleWidth:B,avatar:Boolean,avatarSize:B,avatarShape:ce("round"),loading:X,animate:X,rowWidth:{type:[Number,String,Array],default:Se}};var zn=D({name:An,inheritAttrs:!1,props:Pn,setup(e,{slots:a,attrs:n}){const i=()=>{if(e.avatar)return d(kn,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},r=()=>{if(e.title)return d(bn,{round:e.round,titleWidth:e.titleWidth},null)},t=o=>{const{rowWidth:f}=e;return f===Se&&o===+e.row-1?pn:Array.isArray(f)?f[o]:f},c=()=>Array(+e.row).fill("").map((o,f)=>d(Bn,{key:f,round:e.round,rowWidth:se(t(f))},null)),s=()=>a.template?a.template():d(ge,null,[i(),d("div",{class:Pe("content")},[r(),c()])]);return()=>{var o;return e.loading?d("div",Fe({class:Pe({animate:e.animate,round:e.round})},n),[s()]):(o=a.default)==null?void 0:o.call(a)}}});const Ln=V(zn),On={class:"flex justify-around flex-wrap"},Wn={class:"tracking-widest"},Hn={__name:"CategoryPage",setup(e){const{artistsList:a}=It(),n=Bt(),i=k(0),r=k(!0);xe(()=>{r.value=!1});const t=k([]);return(async()=>{const s=await At.playlistCatList();t.value=s.sub,console.log(t)})(),(s,o)=>{const f=dn,b=Pt,A=Ln,m=un,T=en,v=tn;return ee(),Re(Ot,{"is-search":!0},{default:J(()=>[d(v,{active:i.value,"onUpdate:active":o[0]||(o[0]=w=>i.value=w)},{default:J(()=>[d(T,{title:"歌手"},{default:J(()=>[d(m,null,{default:J(()=>[d(f,{index:"L"}),d(A,{title:"",row:3,loading:r.value},{default:J(()=>[(ee(!0),fe(ge,null,$e(Ie(a),w=>(ee(),Re(b,{onClick:h=>Ie(n).push(`/artist/${w.id}`),key:w.id,title:w.name},null,8,["onClick","title"]))),128))]),_:1},8,["loading"])]),_:1})]),_:1}),d(T,{title:"歌曲"},{default:J(()=>[Be("div",On,[(ee(!0),fe(ge,null,$e(t.value,w=>(ee(),fe("div",{key:w.id,class:"w-2/5 my-4 h-20 rounded-md bg-stone-700 flex justify-center items-center"},[Be("p",Wn,pt(w.name),1)]))),128))])]),_:1})]),_:1},8,["active"])]),_:1})}}};export{Hn as default};
