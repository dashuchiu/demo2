import{aU as g,aV as w,V as S,o as d,h as x,a5 as k,p as A,q as M,v as _,x as l,A as a,a as u,G as p,C as h,D as P,F as b,I}from"./index-BXVa5rxE.js";import{_ as V,I as B}from"./index-CMj-jexl.js";const C={class:"relative"},U={class:"absolute bottom-5 left-5 text-3xl"},j=a("p",{class:"mt-4"},"熱門歌曲",-1),F=["onClick"],N={class:"flex items-center"},T={class:"mx-4"},L={__name:"index",setup($){const{addTrackAndPlay:v}=g("musicPlayer"),e=w(),s=S({artistsDetail:{artistAlbum:[],artistDetail:[],artists:[]}}),m=d([]),i=d({name:"",pic:""}),f=x(()=>e.isMusicPlayerShow);function y(t){_.urlV1(t.id).then(({data:c})=>{console.log(c);let r={id:t.id,title:t.name,singer:t.ar.map(n=>n.name).join("/ "),album:t.al.name,cover:t.al.picUrl,source:c[0].url,time:t.dt,mv:t.mv};e.addTrackAndPlay(r),e.setIsMusicPlayerShow(!0),console.log(e.isMusicPlayerShow),v()})}const D=async()=>{const t=await _.artistDetail();s.artistsDetail.artistAlbum=t[0],s.artistsDetail.artistDetail=t[1],s.artistsDetail.artists=t[2],m.value=s.artistsDetail.artists.hotSongs,i.value.name=s.artistsDetail.artists.artist.name,i.value.pic=s.artistsDetail.artists.artist.picUrl};return k(()=>{D()}),(t,c)=>{const r=B,n=I;return l(),A(V,{leftArrow:!0,isShow:f.value},{default:M(()=>[a("div",C,[u(r,{fit:"cover",position:"center",src:i.value.pic},null,8,["src"]),a("p",U,p(i.value.name),1)]),j,(l(!0),h(b,null,P(m.value,o=>(l(),h("div",{key:o.id,class:"my-2 flex justify-between items-center",onClick:q=>y(o)},[a("div",N,[u(r,{radius:"6",width:"4rem",height:"4rem",fit:"cover",position:"center",src:o.al.picUrl+"?param=100y100"},null,8,["src"]),a("p",T,p(o.name),1)]),u(n,{name:"plus"})],8,F))),128))]),_:1},8,["isShow"])}}};export{L as default};
