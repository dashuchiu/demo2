import{L as g,M as w,N as S,o as d,h as x,O as k,p as A,q as M,v as _,x as l,D as a,a as u,G as p,A as h,C as P,F as b,I}from"./index-DDCgj_Ao.js";import{_ as B,I as C}from"./index-G1VnjAgF.js";const j={class:"relative"},N={class:"absolute bottom-5 left-5 text-3xl"},U=a("p",{class:"mt-4"},"熱門歌曲",-1),V=["onClick"],F={class:"flex items-center"},L={class:"mx-4"},G={__name:"index",setup(T){const{addTrackAndPlay:v}=g("musicPlayer"),e=w(),s=S({artistsDetail:{artistAlbum:[],artistDetail:[],artists:[]}}),m=d([]),i=d({name:"",pic:""}),f=x(()=>e.isMusicPlayerShow);function y(t){_.urlV1(t.id).then(({data:c})=>{console.log(c);let r={id:t.id,title:t.name,singer:t.ar.map(n=>n.name).join("/ "),album:t.al.name,cover:t.al.picUrl,source:c[0].url,time:t.dt,mv:t.mv};e.addTrackAndPlay(r),e.setIsMusicPlayerShow(!0),console.log(e.isMusicPlayerShow),v()})}const D=async()=>{const t=await _.artistDetail();s.artistsDetail.artistAlbum=t[0],s.artistsDetail.artistDetail=t[1],s.artistsDetail.artists=t[2],m.value=s.artistsDetail.artists.hotSongs,i.value.name=s.artistsDetail.artists.artist.name,i.value.pic=s.artistsDetail.artists.artist.picUrl};return k(()=>{D()}),(t,c)=>{const r=C,n=I;return l(),A(B,{leftArrow:!0,isShow:f.value},{default:M(()=>[a("div",j,[u(r,{fit:"cover",position:"center",src:i.value.pic},null,8,["src"]),a("p",N,p(i.value.name),1)]),U,(l(!0),h(b,null,P(m.value,o=>(l(),h("div",{key:o.id,class:"my-2 flex justify-between items-center",onClick:$=>y(o)},[a("div",F,[u(r,{radius:"6",width:"4rem",height:"4rem",fit:"cover",position:"center",src:o.al.picUrl+"?param=100y100"},null,8,["src"]),a("p",L,p(o.name),1)]),u(n,{name:"plus"})],8,V))),128))]),_:1},8,["isShow"])}}};export{G as default};
