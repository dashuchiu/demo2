import{K as D,L as A,M as S,o as r,N as M,h as k,O as I,p as P,q as b,v as u,x as m,D as t,a as d,G as _,A as h,C as L,F as B,I as C}from"./index-DDCgj_Ao.js";import{_ as R,I as j}from"./index-G1VnjAgF.js";const N={class:"relative"},U={class:"absolute bottom-5 left-5 text-3xl"},V=t("p",{class:"mt-4"},"推薦",-1),F=["onClick"],T={class:"flex items-center"},$={class:"flex flex-col mx-4 w-48"},q={class:""},E={class:"text-sm text-stone-500"},J={__name:"RecommendSongList",setup(G){const v=D().params.id,{addTrackAndPlay:f}=A("musicPlayer"),i=S(),p=r([]);(async()=>{const s=await u.playlistAll(v);p.value=s.songs})();const a=M({artistsDetail:{artistAlbum:[],artistDetail:[],artists:[]}}),g=r([]),o=r({name:"",pic:""}),y=k(()=>i.isMusicPlayerShow);function w(s){u.urlV1(s.id).then(({data:n})=>{console.log(n);let c={id:s.id,title:s.name,singer:s.ar.map(l=>l.name).join("/ "),album:s.al.name,cover:s.al.picUrl,source:n[0].url,time:s.dt,mv:s.mv};i.addTrackAndPlay(c),i.setIsMusicPlayerShow(!0),console.log(i.isMusicPlayerShow),f()})}const x=async()=>{const s=await u.artistDetail();a.artistsDetail.artistAlbum=s[0],a.artistsDetail.artistDetail=s[1],a.artistsDetail.artists=s[2],g.value=a.artistsDetail.artists.hotSongs,o.value.name=a.artistsDetail.artists.artist.name,o.value.pic=a.artistsDetail.artists.artist.picUrl};return I(()=>{x()}),(s,n)=>{const c=j,l=C;return m(),P(R,{leftArrow:!0,isShow:y.value},{default:b(()=>[t("div",N,[d(c,{fit:"cover",position:"center",src:o.value.pic},null,8,["src"]),t("p",U,_(o.value.name),1)]),V,(m(!0),h(B,null,L(p.value,e=>(m(),h("div",{key:e.id,class:"my-2 flex justify-between items-center",onClick:O=>w(e)},[t("div",T,[d(c,{radius:"6",width:"4rem",height:"4rem",fit:"cover",position:"center",src:e.al.picUrl},null,8,["src"]),t("div",$,[t("p",q,_(e.name),1),t("p",E,_(e.ar[0].name),1)])]),d(l,{name:"plus"})],8,F))),128))]),_:1},8,["isShow"])}}};export{J as default};
